{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\realtime-collab-fixed-optB\\\\client\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport API from \"../services/api\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"../styles/dashboard.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n  const [docs, setDocs] = useState([]);\n  const [title, setTitle] = useState(\"\");\n  const nav = useNavigate();\n  useEffect(() => {\n    fetchDocs();\n  }, []);\n  async function fetchDocs() {\n    try {\n      const res = await API.get(\"/docs\");\n      setDocs(res.data);\n    } catch (e) {\n      var _e$response;\n      console.error(e);\n      if (((_e$response = e.response) === null || _e$response === void 0 ? void 0 : _e$response.status) === 401) {\n        localStorage.clear();\n        nav(\"/login\");\n      }\n    }\n  }\n  async function create() {\n    if (!title.trim()) return alert(\"Enter title\");\n    const res = await API.post(\"/docs\", {\n      title\n    });\n    nav(\"/editor/\" + res.data._id);\n  }\n  function logout() {\n    localStorage.clear();\n    nav(\"/login\");\n  }\n  const user = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dash-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dash-user\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"user-name\",\n          children: [\"Hi, \", user.username]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"logout-btn\",\n          onClick: logout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"create-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"dash-input\",\n        placeholder: \"New document title\",\n        value: title,\n        onChange: e => setTitle(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"create-btn\",\n        onClick: create,\n        children: \"Create\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"doc-title\",\n      children: \"Your Documents\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"doc-list\",\n      children: docs.map(d => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"doc-card\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/editor/\" + d._id,\n          className: \"doc-link\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"doc-name\",\n            children: d.title || \"Untitled Document\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"doc-meta\",\n            children: [\"Last Updated: \", new Date(d.lastUpdated).toLocaleString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)\n      }, d._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"p0zhWvqrtfc0TnhjBXCdWxmxKYM=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","API","Link","useNavigate","jsxDEV","_jsxDEV","Dashboard","_s","docs","setDocs","title","setTitle","nav","fetchDocs","res","get","data","e","_e$response","console","error","response","status","localStorage","clear","create","trim","alert","post","_id","logout","user","JSON","parse","getItem","className","children","fileName","_jsxFileName","lineNumber","columnNumber","username","onClick","placeholder","value","onChange","target","map","d","to","Date","lastUpdated","toLocaleString","_c","$RefreshReg$"],"sources":["C:/Users/hp/Downloads/realtime-collab-fixed-optB/client/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport API from \"../services/api\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"../styles/dashboard.css\";\n\nexport default function Dashboard() {\n  const [docs, setDocs] = useState([]);\n  const [title, setTitle] = useState(\"\");\n  const nav = useNavigate();\n\n  useEffect(() => {\n    fetchDocs();\n  }, []);\n\n  async function fetchDocs() {\n    try {\n      const res = await API.get(\"/docs\");\n      setDocs(res.data);\n    } catch (e) {\n      console.error(e);\n      if (e.response?.status === 401) {\n        localStorage.clear();\n        nav(\"/login\");\n      }\n    }\n  }\n\n  async function create() {\n    if (!title.trim()) return alert(\"Enter title\");\n    const res = await API.post(\"/docs\", { title });\n    nav(\"/editor/\" + res.data._id);\n  }\n\n  function logout() {\n    localStorage.clear();\n    nav(\"/login\");\n  }\n\n  const user = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n\n  return (\n    <div className=\"dashboard-container\">\n      <div className=\"dash-header\">\n        <h2>Dashboard</h2>\n\n        <div className=\"dash-user\">\n          <span className=\"user-name\">Hi, {user.username}</span>\n          <button className=\"logout-btn\" onClick={logout}>\n            Logout\n          </button>\n        </div>\n      </div>\n\n      <div className=\"create-box\">\n        <input\n          className=\"dash-input\"\n          placeholder=\"New document title\"\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n        />\n\n        <button className=\"create-btn\" onClick={create}>\n          Create\n        </button>\n      </div>\n\n      <h3 className=\"doc-title\">Your Documents</h3>\n\n      <div className=\"doc-list\">\n        {docs.map((d) => (\n          <div className=\"doc-card\" key={d._id}>\n            <Link to={\"/editor/\" + d._id} className=\"doc-link\">\n              <div className=\"doc-name\">{d.title || \"Untitled Document\"}</div>\n              <div className=\"doc-meta\">\n                Last Updated: {new Date(d.lastUpdated).toLocaleString()}\n              </div>\n            </Link>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}