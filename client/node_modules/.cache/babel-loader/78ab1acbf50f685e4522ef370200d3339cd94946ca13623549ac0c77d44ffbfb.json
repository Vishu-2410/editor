{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\realtime-collab-fixed-optB\\\\client\\\\src\\\\pages\\\\Editor.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport io from 'socket.io-client';\nimport API from '../services/api';\nimport '../styles/editor.css'; // <-- make sure this file exists\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Editor() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const nav = useNavigate();\n  const [content, setContent] = useState('');\n  const [title, setTitle] = useState('Loading...');\n  const [activeUsers, setActiveUsers] = useState([]);\n  const [role, setRole] = useState(null);\n  const [collaborators, setCollaborators] = useState([]);\n  const [inviteEmail, setInviteEmail] = useState('');\n  const socketRef = useRef();\n  const saveTimerRef = useRef();\n  const user = JSON.parse(localStorage.getItem('user') || '{}');\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      nav('/login');\n      return;\n    }\n    socketRef.current = io(process.env.REACT_APP_SOCKET || 'http://localhost:4000', {\n      auth: {\n        token\n      }\n    });\n    const s = socketRef.current;\n    s.on('connect_error', err => console.error('socket connect error', err.message));\n    s.emit('join-document', {\n      docId: id\n    });\n    s.on('document-load', ({\n      content: c,\n      title: t,\n      ownerId,\n      collaborators: cols\n    }) => {\n      setContent(c || '');\n      setTitle(t || 'Untitled');\n      setCollaborators(cols || []);\n      if (String(ownerId) === user.id) setRole('owner');else {\n        const me = (cols || []).find(x => String(x.userId) === user.id);\n        setRole(me ? me.role : 'viewer');\n      }\n    });\n    s.on('content-change', ({\n      content: c\n    }) => setContent(c));\n    s.on('active-users', list => setActiveUsers(list || []));\n    s.on('document-saved', () => {});\n    API.get('/docs/' + id).then(res => {\n      setContent(res.data.doc.content || '');\n      setTitle(res.data.doc.title || 'Untitled');\n      setRole(res.data.role);\n      setCollaborators(res.data.doc.collaborators || []);\n    }).catch(e => console.error(e));\n    return () => {\n      s.emit('leave-document', {\n        docId: id\n      });\n      s.disconnect();\n    };\n  }, [id, nav]);\n  useEffect(() => {\n    const s = socketRef.current;\n    if (!s) return;\n    if (saveTimerRef.current) clearTimeout(saveTimerRef.current);\n    if (!(role === 'owner' || role === 'collaborator')) return;\n    saveTimerRef.current = setTimeout(() => {\n      s.emit('content-change', {\n        docId: id,\n        content\n      });\n    }, 300);\n  }, [content, id, role]);\n  useEffect(() => {\n    const s = socketRef.current;\n    const timer = setInterval(() => {\n      if (s && (role === 'owner' || role === 'collaborator')) s.emit('save-document', {\n        docId: id,\n        content\n      });\n      if (role === 'owner' || role === 'collaborator') API.put('/docs/' + id + '/content', {\n        content\n      }).catch(e => console.error(e));\n    }, 10000);\n    return () => clearInterval(timer);\n  }, [id, content, role]);\n  async function saveNow() {\n    const s = socketRef.current;\n    if (!(role === 'owner' || role === 'collaborator')) return alert('You do not have permission to save.');\n    if (s) s.emit('save-document', {\n      docId: id,\n      content\n    });\n    if (role === 'owner') {\n      await API.put('/docs/' + id + '/title', {\n        title\n      }).catch(console.error);\n    }\n    await API.put('/docs/' + id + '/content', {\n      content\n    }).catch(console.error);\n    alert('Saved');\n  }\n  async function invite() {\n    if (!inviteEmail) return alert('Enter email');\n    try {\n      const res = await API.post('/docs/' + id + '/collaborators', {\n        email: inviteEmail,\n        role: 'collaborator'\n      });\n      setCollaborators(res.data.collaborators || []);\n      setInviteEmail('');\n      alert('Invited');\n    } catch (e) {\n      var _e$response, _e$response$data;\n      alert(((_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.message) || 'Invite failed');\n    }\n  }\n  async function removeCollab(collabId) {\n    if (!window.confirm('Remove collaborator?')) return;\n    try {\n      const res = await API.delete('/docs/' + id + '/collaborators/' + collabId);\n      setCollaborators(res.data.collaborators || []);\n    } catch (e) {\n      var _e$response2, _e$response2$data;\n      alert(((_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : (_e$response2$data = _e$response2.data) === null || _e$response2$data === void 0 ? void 0 : _e$response2$data.message) || 'Remove failed');\n    }\n  }\n  async function deleteDoc() {\n    if (!window.confirm('Delete document? This cannot be undone.')) return;\n    try {\n      await API.delete('/docs/' + id);\n      nav('/dashboard');\n    } catch (e) {\n      var _e$response3, _e$response3$data;\n      alert(((_e$response3 = e.response) === null || _e$response3 === void 0 ? void 0 : (_e$response3$data = _e$response3.data) === null || _e$response3$data === void 0 ? void 0 : _e$response3$data.message) || 'Delete failed');\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"editor-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editor-left\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"editor-topbar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            value: title,\n            onChange: e => setTitle(e.target.value),\n            className: \"title-input\",\n            disabled: role !== 'owner'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"role-badge\",\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Your role:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 40\n            }, this), \" \", role]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            onClick: saveNow,\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            onClick: () => nav('/dashboard'),\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 11\n          }, this), role === 'owner' && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger\",\n            onClick: deleteDoc,\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"text-editor\",\n        value: content,\n        onChange: e => setContent(e.target.value),\n        readOnly: !(role === 'owner' || role === 'collaborator')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editor-right\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Active collaborators\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list-box\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: activeUsers.map(u => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: u.username\n          }, u.userId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Collaborators\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list-box\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: collaborators.map(c => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [c.userId, \" \\u2014 \", c.role, role === 'owner' && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => removeCollab(c.userId),\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this)]\n          }, c.userId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 7\n      }, this), role === 'owner' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"invite-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Invite by email\",\n          value: inviteEmail,\n          onChange: e => setInviteEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: invite,\n          children: \"Invite\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-box\",\n        children: \"Auto-saves every 10s. Real-time updates enabled.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 3\n  }, this);\n}\n_s(Editor, \"AEu78Qza9W8NEFbykAuKXQInieY=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = Editor;\nvar _c;\n$RefreshReg$(_c, \"Editor\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useParams","useNavigate","io","API","jsxDEV","_jsxDEV","Editor","_s","id","nav","content","setContent","title","setTitle","activeUsers","setActiveUsers","role","setRole","collaborators","setCollaborators","inviteEmail","setInviteEmail","socketRef","saveTimerRef","user","JSON","parse","localStorage","getItem","token","current","process","env","REACT_APP_SOCKET","auth","s","on","err","console","error","message","emit","docId","c","t","ownerId","cols","String","me","find","x","userId","list","get","then","res","data","doc","catch","e","disconnect","clearTimeout","setTimeout","timer","setInterval","put","clearInterval","saveNow","alert","invite","post","email","_e$response","_e$response$data","response","removeCollab","collabId","window","confirm","delete","_e$response2","_e$response2$data","deleteDoc","_e$response3","_e$response3$data","className","children","style","display","alignItems","gap","value","onChange","target","disabled","fileName","_jsxFileName","lineNumber","columnNumber","onClick","readOnly","map","u","username","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/hp/Downloads/realtime-collab-fixed-optB/client/src/pages/Editor.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport io from 'socket.io-client';\nimport API from '../services/api';\n\nimport '../styles/editor.css'; // <-- make sure this file exists\n\nexport default function Editor() {\n  const { id } = useParams();\n  const nav = useNavigate();\n  const [content, setContent] = useState('');\n  const [title, setTitle] = useState('Loading...');\n  const [activeUsers, setActiveUsers] = useState([]);\n  const [role, setRole] = useState(null);\n  const [collaborators, setCollaborators] = useState([]);\n  const [inviteEmail, setInviteEmail] = useState('');\n  const socketRef = useRef();\n  const saveTimerRef = useRef();\n  const user = JSON.parse(localStorage.getItem('user') || '{}');\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) { nav('/login'); return; }\n\n    socketRef.current = io(process.env.REACT_APP_SOCKET || 'http://localhost:4000', { auth: { token } });\n    const s = socketRef.current;\n\n    s.on('connect_error', (err) => console.error('socket connect error', err.message));\n\n    s.emit('join-document', { docId: id });\n\n    s.on('document-load', ({ content: c, title: t, ownerId, collaborators: cols }) => {\n      setContent(c || '');\n      setTitle(t || 'Untitled');\n      setCollaborators(cols || []);\n\n      if (String(ownerId) === user.id) setRole('owner');\n      else {\n        const me = (cols || []).find(x => String(x.userId) === user.id);\n        setRole(me ? me.role : 'viewer');\n      }\n    });\n\n    s.on('content-change', ({ content: c }) => setContent(c));\n    s.on('active-users', list => setActiveUsers(list || []));\n    s.on('document-saved', () => {});\n\n    API.get('/docs/' + id)\n      .then(res => {\n        setContent(res.data.doc.content || '');\n        setTitle(res.data.doc.title || 'Untitled');\n        setRole(res.data.role);\n        setCollaborators(res.data.doc.collaborators || []);\n      })\n      .catch(e => console.error(e));\n\n    return () => {\n      s.emit('leave-document', { docId: id });\n      s.disconnect();\n    };\n  }, [id, nav]);\n\n  useEffect(() => {\n    const s = socketRef.current;\n    if (!s) return;\n\n    if (saveTimerRef.current) clearTimeout(saveTimerRef.current);\n    if (!(role === 'owner' || role === 'collaborator')) return;\n\n    saveTimerRef.current = setTimeout(() => {\n      s.emit('content-change', { docId: id, content });\n    }, 300);\n  }, [content, id, role]);\n\n  useEffect(() => {\n    const s = socketRef.current;\n    const timer = setInterval(() => {\n      if (s && (role === 'owner' || role === 'collaborator'))\n        s.emit('save-document', { docId: id, content });\n\n      if (role === 'owner' || role === 'collaborator')\n        API.put('/docs/' + id + '/content', { content }).catch(e => console.error(e));\n    }, 10000);\n\n    return () => clearInterval(timer);\n  }, [id, content, role]);\n\n  async function saveNow() {\n    const s = socketRef.current;\n\n    if (!(role === 'owner' || role === 'collaborator'))\n      return alert('You do not have permission to save.');\n\n    if (s) s.emit('save-document', { docId: id, content });\n\n    if (role === 'owner') {\n      await API.put('/docs/' + id + '/title', { title }).catch(console.error);\n    }\n\n    await API.put('/docs/' + id + '/content', { content }).catch(console.error);\n    alert('Saved');\n  }\n\n  async function invite() {\n    if (!inviteEmail) return alert('Enter email');\n\n    try {\n      const res = await API.post('/docs/' + id + '/collaborators', {\n        email: inviteEmail,\n        role: 'collaborator'\n      });\n\n      setCollaborators(res.data.collaborators || []);\n      setInviteEmail('');\n      alert('Invited');\n    } catch (e) {\n      alert(e.response?.data?.message || 'Invite failed');\n    }\n  }\n\n  async function removeCollab(collabId) {\n    if (!window.confirm('Remove collaborator?')) return;\n\n    try {\n      const res = await API.delete('/docs/' + id + '/collaborators/' + collabId);\n      setCollaborators(res.data.collaborators || []);\n    } catch (e) {\n      alert(e.response?.data?.message || 'Remove failed');\n    }\n  }\n\n  async function deleteDoc() {\n    if (!window.confirm('Delete document? This cannot be undone.')) return;\n\n    try {\n      await API.delete('/docs/' + id);\n      nav('/dashboard');\n    } catch (e) {\n      alert(e.response?.data?.message || 'Delete failed');\n    }\n  }\n\n return (\n  <div className=\"editor-container\">\n\n    <div className=\"editor-left\">\n      <div className=\"editor-topbar\">\n        <div style={{display:'flex', alignItems:'center', gap:12}}>\n          <input value={title} onChange={e=>setTitle(e.target.value)} \n            className=\"title-input\"\n            disabled={role !== 'owner'} />\n\n          <span className=\"role-badge\"><b>Your role:</b> {role}</span>\n        </div>\n\n        <div>\n          <button className=\"btn\" onClick={saveNow}>Save</button>\n          <button className=\"btn\" onClick={()=>nav('/dashboard')}>Back</button>\n          {role === 'owner' && (\n            <button className=\"btn btn-danger\" onClick={deleteDoc}>Delete</button>\n          )}\n        </div>\n      </div>\n\n      <textarea\n        className=\"text-editor\"\n        value={content}\n        onChange={e=>setContent(e.target.value)}\n        readOnly={!(role === 'owner' || role === 'collaborator')}\n      />\n    </div>\n\n    <div className=\"editor-right\">\n      <h4>Active collaborators</h4>\n      <div className=\"list-box\">\n        <ul>\n          {activeUsers.map(u=>(\n            <li key={u.userId}>{u.username}</li>\n          ))}\n        </ul>\n      </div>\n\n      <h4>Collaborators</h4>\n      <div className=\"list-box\">\n        <ul>\n          {collaborators.map(c=>(\n            <li key={c.userId}>\n              {c.userId} â€” {c.role}\n              {role === 'owner' && (\n                <button onClick={() => removeCollab(c.userId)}>Remove</button>\n              )}\n            </li>\n          ))}\n        </ul>\n      </div>\n\n      {role === 'owner' && (\n        <div className=\"invite-box\">\n          <input placeholder=\"Invite by email\"\n            value={inviteEmail}\n            onChange={(e) => setInviteEmail(e.target.value)} />\n          <button className=\"btn\" onClick={invite}>Invite</button>\n        </div>\n      )}\n\n      <div className=\"info-box\">\n        Auto-saves every 10s. Real-time updates enabled.\n      </div>\n    </div>\n\n  </div>\n);\n\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}