{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\realtime-collab-fixed-optB\\\\client\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport API from '../services/api';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n  const [docs, setDocs] = useState([]);\n  const [title, setTitle] = useState('');\n  const nav = useNavigate();\n  useEffect(() => {\n    fetchDocs();\n  }, []);\n  async function fetchDocs() {\n    try {\n      const res = await API.get('/docs');\n      setDocs(res.data);\n    } catch (e) {\n      var _e$response;\n      console.error(e);\n      if (((_e$response = e.response) === null || _e$response === void 0 ? void 0 : _e$response.status) === 401) {\n        localStorage.clear();\n        nav('/login');\n      }\n    }\n  }\n  async function create() {\n    if (!title) return alert('Enter title');\n    const res = await API.post('/docs', {\n      title\n    });\n    nav('/editor/' + res.data._id);\n  }\n  function logout() {\n    localStorage.clear();\n    nav('/login');\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Welcome, \", JSON.parse(localStorage.getItem('user') || '{}').username, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: logout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 77\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"New document title\",\n        value: title,\n        onChange: e => setTitle(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: create,\n        children: \"Create\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Your Documents\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: docs.map(d => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: '/editor/' + d._id,\n          children: d.title || 'Untitled'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), \" \\u2014 Last updated: \", new Date(d.lastUpdated).toLocaleString()]\n      }, d._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 11\n  }, this);\n}\n_s(Dashboard, \"kX3adVMI9fXkt7GuCENE54Qpexg=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","API","Link","useNavigate","jsxDEV","_jsxDEV","Dashboard","_s","docs","setDocs","title","setTitle","nav","fetchDocs","res","get","data","e","_e$response","console","error","response","status","localStorage","clear","create","alert","post","_id","logout","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","JSON","parse","getItem","username","onClick","marginTop","placeholder","value","onChange","target","map","d","to","Date","lastUpdated","toLocaleString","_c","$RefreshReg$"],"sources":["C:/Users/hp/Downloads/realtime-collab-fixed-optB/client/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport API from '../services/api';\nimport { Link, useNavigate } from 'react-router-dom';\n\nexport default function Dashboard(){\n  const [docs,setDocs] = useState([]);\n  const [title,setTitle] = useState('');\n  const nav = useNavigate();\n\n  useEffect(()=>{ fetchDocs(); },[]);\n\n  async function fetchDocs(){\n    try{\n      const res = await API.get('/docs');\n      setDocs(res.data);\n    }catch(e){ console.error(e); if (e.response?.status===401) { localStorage.clear(); nav('/login'); } }\n  }\n\n  async function create(){\n    if (!title) return alert('Enter title');\n    const res = await API.post('/docs', { title });\n    nav('/editor/' + res.data._id);\n  }\n\n  function logout(){\n    localStorage.clear();\n    nav('/login');\n  }\n\n  return (<div style={{padding:20}}>\n    <h2>Dashboard</h2>\n    <div>Welcome, {JSON.parse(localStorage.getItem('user')||'{}').username} <button onClick={logout}>Logout</button></div>\n    <div style={{marginTop:20}}>\n      <input placeholder='New document title' value={title} onChange={e=>setTitle(e.target.value)} />\n      <button onClick={create}>Create</button>\n    </div>\n    <h3>Your Documents</h3>\n    <ul>\n      {docs.map(d=>(\n        <li key={d._id}>\n          <Link to={'/editor/' + d._id}>{d.title || 'Untitled'}</Link> â€” Last updated: {new Date(d.lastUpdated).toLocaleString()}\n        </li>\n      ))}\n    </ul>\n  </div>);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}