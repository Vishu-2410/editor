{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\realtime-collab-fixed-optB\\\\client\\\\src\\\\pages\\\\Editor.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport io from 'socket.io-client';\nimport API from '../services/api';\nimport '../styles/editor.css'; // <-- make sure this file exists\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Editor() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const nav = useNavigate();\n  const [content, setContent] = useState('');\n  const [title, setTitle] = useState('Loading...');\n  const [activeUsers, setActiveUsers] = useState([]);\n  const [role, setRole] = useState(null);\n  const [collaborators, setCollaborators] = useState([]);\n  const [inviteEmail, setInviteEmail] = useState('');\n  const socketRef = useRef();\n  const saveTimerRef = useRef();\n  const user = JSON.parse(localStorage.getItem('user') || '{}');\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      nav('/login');\n      return;\n    }\n    socketRef.current = io(process.env.REACT_APP_SOCKET || 'http://localhost:4000', {\n      auth: {\n        token\n      }\n    });\n    const s = socketRef.current;\n    s.on('connect_error', err => console.error('socket connect error', err.message));\n    s.emit('join-document', {\n      docId: id\n    });\n    s.on('document-load', ({\n      content: c,\n      title: t,\n      ownerId,\n      collaborators: cols\n    }) => {\n      setContent(c || '');\n      setTitle(t || 'Untitled');\n      setCollaborators(cols || []);\n      if (String(ownerId) === user.id) setRole('owner');else {\n        const me = (cols || []).find(x => String(x.userId) === user.id);\n        setRole(me ? me.role : 'viewer');\n      }\n    });\n    s.on('content-change', ({\n      content: c\n    }) => setContent(c));\n    s.on('active-users', list => setActiveUsers(list || []));\n    s.on('document-saved', () => {});\n    API.get('/docs/' + id).then(res => {\n      setContent(res.data.doc.content || '');\n      setTitle(res.data.doc.title || 'Untitled');\n      setRole(res.data.role);\n      setCollaborators(res.data.doc.collaborators || []);\n    }).catch(e => console.error(e));\n    return () => {\n      s.emit('leave-document', {\n        docId: id\n      });\n      s.disconnect();\n    };\n  }, [id, nav]);\n  useEffect(() => {\n    const s = socketRef.current;\n    if (!s) return;\n    if (saveTimerRef.current) clearTimeout(saveTimerRef.current);\n    if (!(role === 'owner' || role === 'collaborator')) return;\n    saveTimerRef.current = setTimeout(() => {\n      s.emit('content-change', {\n        docId: id,\n        content\n      });\n    }, 300);\n  }, [content, id, role]);\n  useEffect(() => {\n    const s = socketRef.current;\n    const timer = setInterval(() => {\n      if (s && (role === 'owner' || role === 'collaborator')) s.emit('save-document', {\n        docId: id,\n        content\n      });\n      if (role === 'owner' || role === 'collaborator') API.put('/docs/' + id + '/content', {\n        content\n      }).catch(e => console.error(e));\n    }, 10000);\n    return () => clearInterval(timer);\n  }, [id, content, role]);\n  async function saveNow() {\n    const s = socketRef.current;\n    if (!(role === 'owner' || role === 'collaborator')) return alert('You do not have permission to save.');\n    if (s) s.emit('save-document', {\n      docId: id,\n      content\n    });\n    if (role === 'owner') {\n      await API.put('/docs/' + id + '/title', {\n        title\n      }).catch(console.error);\n    }\n    await API.put('/docs/' + id + '/content', {\n      content\n    }).catch(console.error);\n    alert('Saved');\n  }\n  async function invite() {\n    if (!inviteEmail) return alert('Enter email');\n    try {\n      const res = await API.post('/docs/' + id + '/collaborators', {\n        email: inviteEmail,\n        role: 'collaborator'\n      });\n      setCollaborators(res.data.collaborators || []);\n      setInviteEmail('');\n      alert('Invited');\n    } catch (e) {\n      var _e$response, _e$response$data;\n      alert(((_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.message) || 'Invite failed');\n    }\n  }\n  async function removeCollab(collabId) {\n    if (!window.confirm('Remove collaborator?')) return;\n    try {\n      const res = await API.delete('/docs/' + id + '/collaborators/' + collabId);\n      setCollaborators(res.data.collaborators || []);\n    } catch (e) {\n      var _e$response2, _e$response2$data;\n      alert(((_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : (_e$response2$data = _e$response2.data) === null || _e$response2$data === void 0 ? void 0 : _e$response2$data.message) || 'Remove failed');\n    }\n  }\n  async function deleteDoc() {\n    if (!window.confirm('Delete document? This cannot be undone.')) return;\n    try {\n      await API.delete('/docs/' + id);\n      nav('/dashboard');\n    } catch (e) {\n      var _e$response3, _e$response3$data;\n      alert(((_e$response3 = e.response) === null || _e$response3 === void 0 ? void 0 : (_e$response3$data = _e$response3.data) === null || _e$response3$data === void 0 ? void 0 : _e$response3$data.message) || 'Delete failed');\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"editor-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editor-left\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"editor-top\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"editor-title-area\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"editor-title-input\",\n            value: title,\n            onChange: e => setTitle(e.target.value),\n            disabled: role !== 'owner'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"editor-role-badge\",\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Your role:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 15\n            }, this), \" \", role]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            onClick: saveNow,\n            disabled: !(role === 'owner' || role === 'collaborator'),\n            children: \"Save now\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            onClick: () => nav('/dashboard'),\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), role === 'owner' && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-danger\",\n            onClick: deleteDoc,\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"editor-textarea\",\n        value: content,\n        onChange: e => setContent(e.target.value),\n        readOnly: !(role === 'owner' || role === 'collaborator')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editor-sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Active collaborators\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"editor-list\",\n        children: activeUsers.map(u => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [u.username, \" \", u.role ? `(${u.role})` : '']\n        }, u.userId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 20\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Collaborators\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"editor-list\",\n          children: collaborators.map(c => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [String(c.userId), \" \\u2014 \", c.role, role === 'owner' && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"remove-btn\",\n              onClick: () => removeCollab(c.userId),\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 19\n            }, this)]\n          }, c.userId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), role === 'owner' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invite-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Invite by email\",\n            value: inviteEmail,\n            onChange: e => setInviteEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: invite,\n            children: \"Invite\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Info\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Auto-saves every 10s. Real-time updates via Socket.IO. Owners can manage collaborators.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n}\n_s(Editor, \"AEu78Qza9W8NEFbykAuKXQInieY=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = Editor;\nvar _c;\n$RefreshReg$(_c, \"Editor\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useParams","useNavigate","io","API","jsxDEV","_jsxDEV","Editor","_s","id","nav","content","setContent","title","setTitle","activeUsers","setActiveUsers","role","setRole","collaborators","setCollaborators","inviteEmail","setInviteEmail","socketRef","saveTimerRef","user","JSON","parse","localStorage","getItem","token","current","process","env","REACT_APP_SOCKET","auth","s","on","err","console","error","message","emit","docId","c","t","ownerId","cols","String","me","find","x","userId","list","get","then","res","data","doc","catch","e","disconnect","clearTimeout","setTimeout","timer","setInterval","put","clearInterval","saveNow","alert","invite","post","email","_e$response","_e$response$data","response","removeCollab","collabId","window","confirm","delete","_e$response2","_e$response2$data","deleteDoc","_e$response3","_e$response3$data","className","children","value","onChange","target","disabled","fileName","_jsxFileName","lineNumber","columnNumber","onClick","readOnly","map","u","username","style","marginTop","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/hp/Downloads/realtime-collab-fixed-optB/client/src/pages/Editor.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport io from 'socket.io-client';\nimport API from '../services/api';\n\nimport '../styles/editor.css'; // <-- make sure this file exists\n\nexport default function Editor() {\n  const { id } = useParams();\n  const nav = useNavigate();\n  const [content, setContent] = useState('');\n  const [title, setTitle] = useState('Loading...');\n  const [activeUsers, setActiveUsers] = useState([]);\n  const [role, setRole] = useState(null);\n  const [collaborators, setCollaborators] = useState([]);\n  const [inviteEmail, setInviteEmail] = useState('');\n  const socketRef = useRef();\n  const saveTimerRef = useRef();\n  const user = JSON.parse(localStorage.getItem('user') || '{}');\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) { nav('/login'); return; }\n\n    socketRef.current = io(process.env.REACT_APP_SOCKET || 'http://localhost:4000', { auth: { token } });\n    const s = socketRef.current;\n\n    s.on('connect_error', (err) => console.error('socket connect error', err.message));\n\n    s.emit('join-document', { docId: id });\n\n    s.on('document-load', ({ content: c, title: t, ownerId, collaborators: cols }) => {\n      setContent(c || '');\n      setTitle(t || 'Untitled');\n      setCollaborators(cols || []);\n\n      if (String(ownerId) === user.id) setRole('owner');\n      else {\n        const me = (cols || []).find(x => String(x.userId) === user.id);\n        setRole(me ? me.role : 'viewer');\n      }\n    });\n\n    s.on('content-change', ({ content: c }) => setContent(c));\n    s.on('active-users', list => setActiveUsers(list || []));\n    s.on('document-saved', () => {});\n\n    API.get('/docs/' + id)\n      .then(res => {\n        setContent(res.data.doc.content || '');\n        setTitle(res.data.doc.title || 'Untitled');\n        setRole(res.data.role);\n        setCollaborators(res.data.doc.collaborators || []);\n      })\n      .catch(e => console.error(e));\n\n    return () => {\n      s.emit('leave-document', { docId: id });\n      s.disconnect();\n    };\n  }, [id, nav]);\n\n  useEffect(() => {\n    const s = socketRef.current;\n    if (!s) return;\n\n    if (saveTimerRef.current) clearTimeout(saveTimerRef.current);\n    if (!(role === 'owner' || role === 'collaborator')) return;\n\n    saveTimerRef.current = setTimeout(() => {\n      s.emit('content-change', { docId: id, content });\n    }, 300);\n  }, [content, id, role]);\n\n  useEffect(() => {\n    const s = socketRef.current;\n    const timer = setInterval(() => {\n      if (s && (role === 'owner' || role === 'collaborator'))\n        s.emit('save-document', { docId: id, content });\n\n      if (role === 'owner' || role === 'collaborator')\n        API.put('/docs/' + id + '/content', { content }).catch(e => console.error(e));\n    }, 10000);\n\n    return () => clearInterval(timer);\n  }, [id, content, role]);\n\n  async function saveNow() {\n    const s = socketRef.current;\n\n    if (!(role === 'owner' || role === 'collaborator'))\n      return alert('You do not have permission to save.');\n\n    if (s) s.emit('save-document', { docId: id, content });\n\n    if (role === 'owner') {\n      await API.put('/docs/' + id + '/title', { title }).catch(console.error);\n    }\n\n    await API.put('/docs/' + id + '/content', { content }).catch(console.error);\n    alert('Saved');\n  }\n\n  async function invite() {\n    if (!inviteEmail) return alert('Enter email');\n\n    try {\n      const res = await API.post('/docs/' + id + '/collaborators', {\n        email: inviteEmail,\n        role: 'collaborator'\n      });\n\n      setCollaborators(res.data.collaborators || []);\n      setInviteEmail('');\n      alert('Invited');\n    } catch (e) {\n      alert(e.response?.data?.message || 'Invite failed');\n    }\n  }\n\n  async function removeCollab(collabId) {\n    if (!window.confirm('Remove collaborator?')) return;\n\n    try {\n      const res = await API.delete('/docs/' + id + '/collaborators/' + collabId);\n      setCollaborators(res.data.collaborators || []);\n    } catch (e) {\n      alert(e.response?.data?.message || 'Remove failed');\n    }\n  }\n\n  async function deleteDoc() {\n    if (!window.confirm('Delete document? This cannot be undone.')) return;\n\n    try {\n      await API.delete('/docs/' + id);\n      nav('/dashboard');\n    } catch (e) {\n      alert(e.response?.data?.message || 'Delete failed');\n    }\n  }\n\n  return (\n    <div className=\"editor-wrapper\">\n\n      {/* LEFT SIDE */}\n      <div className=\"editor-left\">\n\n        <div className=\"editor-top\">\n\n          <div className=\"editor-title-area\">\n            <input\n              className=\"editor-title-input\"\n              value={title}\n              onChange={e => setTitle(e.target.value)}\n              disabled={role !== 'owner'}\n            />\n            <span className=\"editor-role-badge\">\n              <b>Your role:</b> {role}\n            </span>\n          </div>\n\n          <div>\n            <button className=\"btn\" onClick={saveNow} disabled={!(role === 'owner' || role === 'collaborator')}>\n              Save now\n            </button>\n\n            <button className=\"btn\" onClick={() => nav('/dashboard')}>\n              Back\n            </button>\n\n            {role === 'owner' && (\n              <button className=\"btn-danger\" onClick={deleteDoc}>\n                Delete\n              </button>\n            )}\n          </div>\n\n        </div>\n\n        <textarea\n          className=\"editor-textarea\"\n          value={content}\n          onChange={e => setContent(e.target.value)}\n          readOnly={!(role === 'owner' || role === 'collaborator')}\n        />\n\n      </div>\n\n      {/* RIGHT SIDEBAR */}\n      <div className=\"editor-sidebar\">\n\n        <h4>Active collaborators</h4>\n        <ul className=\"editor-list\">\n          {activeUsers.map(u => (\n            <li key={u.userId}>\n              {u.username} {u.role ? `(${u.role})` : ''}\n            </li>\n          ))}\n        </ul>\n\n        <div style={{ marginTop: 20 }}>\n          <h4>Collaborators</h4>\n          <ul className=\"editor-list\">\n            {collaborators.map(c => (\n              <li key={c.userId}>\n                {String(c.userId)} â€” {c.role}\n                {role === 'owner' && (\n                  <button className=\"remove-btn\" onClick={() => removeCollab(c.userId)}>\n                    Remove\n                  </button>\n                )}\n              </li>\n            ))}\n          </ul>\n\n          {role === 'owner' && (\n            <div className=\"invite-box\">\n              <input\n                placeholder=\"Invite by email\"\n                value={inviteEmail}\n                onChange={e => setInviteEmail(e.target.value)}\n              />\n              <button onClick={invite}>Invite</button>\n            </div>\n          )}\n        </div>\n\n        <div className=\"info-box\">\n          <h4>Info</h4>\n          <p>Auto-saves every 10s. Real-time updates via Socket.IO. Owners can manage collaborators.</p>\n        </div>\n\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}