{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\realtime-collab-fixed-optB\\\\client\\\\src\\\\pages\\\\Editor.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport io from 'socket.io-client';\nimport API from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Editor() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const nav = useNavigate();\n  const [content, setContent] = useState('');\n  const [title, setTitle] = useState('Loading...');\n  const [activeUsers, setActiveUsers] = useState([]);\n  const [role, setRole] = useState(null);\n  const [collaborators, setCollaborators] = useState([]);\n  const [inviteEmail, setInviteEmail] = useState('');\n  const socketRef = useRef();\n  const saveTimerRef = useRef();\n  const user = JSON.parse(localStorage.getItem('user') || '{}');\n\n  // -------------------------------\n  // INITIAL LOAD + SOCKET SETUP\n  // -------------------------------\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) return nav('/login');\n    socketRef.current = io(process.env.REACT_APP_SOCKET || 'http://localhost:4000', {\n      auth: {\n        token\n      }\n    });\n    const s = socketRef.current;\n    s.on('connect_error', err => console.error('Socket error:', err));\n    s.emit('join-document', {\n      docId: id\n    });\n    s.on('document-load', ({\n      content: c,\n      title: t,\n      ownerId,\n      collaborators: cols\n    }) => {\n      setContent(c || '');\n      setTitle(t || 'Untitled');\n      setCollaborators(cols || []);\n      if (String(ownerId) === user.id) setRole('owner');else {\n        const me = (cols || []).find(x => String(x.userId) === user.id);\n        setRole(me ? me.role : 'viewer');\n      }\n    });\n    s.on('content-change', ({\n      content: c\n    }) => setContent(c));\n    s.on('active-users', list => setActiveUsers(list || []));\n\n    // Load doc from REST also\n    API.get(`/docs/${id}`).then(res => {\n      setContent(res.data.doc.content || '');\n      setTitle(res.data.doc.title || 'Untitled');\n      setRole(res.data.role);\n      setCollaborators(res.data.doc.collaborators || []);\n    });\n    return () => {\n      s.emit('leave-document', {\n        docId: id\n      });\n      s.disconnect();\n    };\n  }, [id, nav]);\n\n  // -----------------------------------\n  // REALTIME EDITING (send updates)\n  // -----------------------------------\n  useEffect(() => {\n    const s = socketRef.current;\n    if (!s) return;\n    if (saveTimerRef.current) clearTimeout(saveTimerRef.current);\n    if (!(role === 'owner' || role === 'collaborator')) return;\n    saveTimerRef.current = setTimeout(() => {\n      s.emit('content-change', {\n        docId: id,\n        content\n      });\n    }, 300);\n  }, [content, id, role]);\n\n  // -----------------------------------\n  // AUTO SAVE EVERY 10 SECONDS\n  // -----------------------------------\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (role === 'owner' || role === 'collaborator') {\n        var _socketRef$current;\n        (_socketRef$current = socketRef.current) === null || _socketRef$current === void 0 ? void 0 : _socketRef$current.emit('save-document', {\n          docId: id,\n          content\n        });\n        API.put(`/docs/${id}/content`, {\n          content\n        }).catch(() => {});\n      }\n    }, 10000);\n    return () => clearInterval(interval);\n  }, [content, id, role]);\n\n  // -----------------------------------\n  // SAVE NOW BUTTON\n  // -----------------------------------\n  async function saveNow() {\n    var _socketRef$current2;\n    if (!(role === 'owner' || role === 'collaborator')) return alert('You do not have permission to save.');\n    (_socketRef$current2 = socketRef.current) === null || _socketRef$current2 === void 0 ? void 0 : _socketRef$current2.emit('save-document', {\n      docId: id,\n      content\n    });\n    if (role === 'owner') {\n      await API.put(`/docs/${id}/title`, {\n        title\n      }).catch(() => {});\n    }\n    await API.put(`/docs/${id}/content`, {\n      content\n    }).catch(() => {});\n    alert('Saved');\n  }\n\n  // -----------------------------------\n  // INVITE COLLABORATOR\n  // -----------------------------------\n  async function invite() {\n    if (!inviteEmail) return alert('Enter email');\n    try {\n      const res = await API.post(`/docs/${id}/collaborators`, {\n        email: inviteEmail,\n        role: 'collaborator'\n      });\n      setCollaborators(res.data.collaborators);\n      setInviteEmail('');\n      alert('Invited successfully');\n    } catch (e) {\n      var _e$response, _e$response$data;\n      alert(((_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.message) || 'Failed to invite');\n    }\n  }\n\n  // -----------------------------------\n  // REMOVE COLLABORATOR\n  // -----------------------------------\n  async function removeCollab(collabId) {\n    if (!window.confirm('Remove collaborator?')) return;\n    try {\n      const res = await API.delete(`/docs/${id}/collaborators/${collabId}`);\n      setCollaborators(res.data.collaborators);\n    } catch (e) {\n      alert('Failed to remove');\n    }\n  }\n\n  // -----------------------------------\n  // DELETE DOCUMENT\n  // -----------------------------------\n  async function deleteDoc() {\n    if (!window.confirm('Are you sure? This cannot be undone.')) return;\n    try {\n      await API.delete(`/docs/${id}`);\n      nav('/dashboard');\n    } catch {\n      alert('Delete failed');\n    }\n  }\n\n  // -----------------------------------\n  // RENDER UI\n  // -----------------------------------\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"editor-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editor-topbar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"editor-title-block\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input-title\",\n          value: title,\n          onChange: e => setTitle(e.target.value),\n          disabled: role !== 'owner'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"badge-role\",\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Your role:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), \" \", role]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"editor-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: saveNow,\n          disabled: !(role === 'owner' || role === 'collaborator'),\n          children: \"Save Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => nav('/dashboard'),\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), role === 'owner' && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-danger\",\n          onClick: deleteDoc,\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editor-body\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"editor-textarea\",\n        value: content,\n        onChange: e => setContent(e.target.value),\n        readOnly: !(role === 'owner' || role === 'collaborator')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Active Collaborators\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list\",\n          children: activeUsers.map(u => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [u.username, \" \", u.role ? `(${u.role})` : '']\n          }, u.userId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Collaborators\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list\",\n          children: collaborators.map(c => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [c.email || c.userId, \" \\u2014 \", c.role, role === 'owner' && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-small\",\n              onClick: () => removeCollab(c.userId),\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 19\n            }, this)]\n          }, c.userId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), role === 'owner' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invite-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input\",\n            placeholder: \"Invite by email\",\n            value: inviteEmail,\n            onChange: e => setInviteEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            onClick: invite,\n            children: \"Invite\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Info\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Auto-saves every 10s. Real-time edits via Socket.IO.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n}\n_s(Editor, \"AEu78Qza9W8NEFbykAuKXQInieY=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = Editor;\nvar _c;\n$RefreshReg$(_c, \"Editor\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useParams","useNavigate","io","API","jsxDEV","_jsxDEV","Editor","_s","id","nav","content","setContent","title","setTitle","activeUsers","setActiveUsers","role","setRole","collaborators","setCollaborators","inviteEmail","setInviteEmail","socketRef","saveTimerRef","user","JSON","parse","localStorage","getItem","token","current","process","env","REACT_APP_SOCKET","auth","s","on","err","console","error","emit","docId","c","t","ownerId","cols","String","me","find","x","userId","list","get","then","res","data","doc","disconnect","clearTimeout","setTimeout","interval","setInterval","_socketRef$current","put","catch","clearInterval","saveNow","_socketRef$current2","alert","invite","post","email","e","_e$response","_e$response$data","response","message","removeCollab","collabId","window","confirm","delete","deleteDoc","className","children","value","onChange","target","disabled","fileName","_jsxFileName","lineNumber","columnNumber","onClick","readOnly","map","u","username","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/hp/Downloads/realtime-collab-fixed-optB/client/src/pages/Editor.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport io from 'socket.io-client';\nimport API from '../services/api';\n\nexport default function Editor() {\n  const { id } = useParams();\n  const nav = useNavigate();\n\n  const [content, setContent] = useState('');\n  const [title, setTitle] = useState('Loading...');\n  const [activeUsers, setActiveUsers] = useState([]);\n  const [role, setRole] = useState(null);\n  const [collaborators, setCollaborators] = useState([]);\n  const [inviteEmail, setInviteEmail] = useState('');\n\n  const socketRef = useRef();\n  const saveTimerRef = useRef();\n\n  const user = JSON.parse(localStorage.getItem('user') || '{}');\n\n  // -------------------------------\n  // INITIAL LOAD + SOCKET SETUP\n  // -------------------------------\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) return nav('/login');\n\n    socketRef.current = io(\n      process.env.REACT_APP_SOCKET || 'http://localhost:4000',\n      { auth: { token } }\n    );\n\n    const s = socketRef.current;\n\n    s.on('connect_error', err => console.error('Socket error:', err));\n    s.emit('join-document', { docId: id });\n\n    s.on('document-load', ({ content: c, title: t, ownerId, collaborators: cols }) => {\n      setContent(c || '');\n      setTitle(t || 'Untitled');\n      setCollaborators(cols || []);\n\n      if (String(ownerId) === user.id) setRole('owner');\n      else {\n        const me = (cols || []).find(x => String(x.userId) === user.id);\n        setRole(me ? me.role : 'viewer');\n      }\n    });\n\n    s.on('content-change', ({ content: c }) => setContent(c));\n    s.on('active-users', list => setActiveUsers(list || []));\n\n    // Load doc from REST also\n    API.get(`/docs/${id}`).then(res => {\n      setContent(res.data.doc.content || '');\n      setTitle(res.data.doc.title || 'Untitled');\n      setRole(res.data.role);\n      setCollaborators(res.data.doc.collaborators || []);\n    });\n\n    return () => {\n      s.emit('leave-document', { docId: id });\n      s.disconnect();\n    };\n  }, [id, nav]);\n\n  // -----------------------------------\n  // REALTIME EDITING (send updates)\n  // -----------------------------------\n  useEffect(() => {\n    const s = socketRef.current;\n    if (!s) return;\n\n    if (saveTimerRef.current) clearTimeout(saveTimerRef.current);\n\n    if (!(role === 'owner' || role === 'collaborator')) return;\n\n    saveTimerRef.current = setTimeout(() => {\n      s.emit('content-change', { docId: id, content });\n    }, 300);\n  }, [content, id, role]);\n\n  // -----------------------------------\n  // AUTO SAVE EVERY 10 SECONDS\n  // -----------------------------------\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (role === 'owner' || role === 'collaborator') {\n        socketRef.current?.emit('save-document', { docId: id, content });\n        API.put(`/docs/${id}/content`, { content }).catch(() => {});\n      }\n    }, 10000);\n\n    return () => clearInterval(interval);\n  }, [content, id, role]);\n\n  // -----------------------------------\n  // SAVE NOW BUTTON\n  // -----------------------------------\n  async function saveNow() {\n    if (!(role === 'owner' || role === 'collaborator'))\n      return alert('You do not have permission to save.');\n\n    socketRef.current?.emit('save-document', { docId: id, content });\n\n    if (role === 'owner') {\n      await API.put(`/docs/${id}/title`, { title }).catch(() => {});\n    }\n\n    await API.put(`/docs/${id}/content`, { content }).catch(() => {});\n    alert('Saved');\n  }\n\n  // -----------------------------------\n  // INVITE COLLABORATOR\n  // -----------------------------------\n  async function invite() {\n    if (!inviteEmail) return alert('Enter email');\n\n    try {\n      const res = await API.post(`/docs/${id}/collaborators`, {\n        email: inviteEmail,\n        role: 'collaborator',\n      });\n\n      setCollaborators(res.data.collaborators);\n      setInviteEmail('');\n      alert('Invited successfully');\n    } catch (e) {\n      alert(e.response?.data?.message || 'Failed to invite');\n    }\n  }\n\n  // -----------------------------------\n  // REMOVE COLLABORATOR\n  // -----------------------------------\n  async function removeCollab(collabId) {\n    if (!window.confirm('Remove collaborator?')) return;\n\n    try {\n      const res = await API.delete(\n        `/docs/${id}/collaborators/${collabId}`\n      );\n      setCollaborators(res.data.collaborators);\n    } catch (e) {\n      alert('Failed to remove');\n    }\n  }\n\n  // -----------------------------------\n  // DELETE DOCUMENT\n  // -----------------------------------\n  async function deleteDoc() {\n    if (!window.confirm('Are you sure? This cannot be undone.')) return;\n\n    try {\n      await API.delete(`/docs/${id}`);\n      nav('/dashboard');\n    } catch {\n      alert('Delete failed');\n    }\n  }\n\n  // -----------------------------------\n  // RENDER UI\n  // -----------------------------------\n  return (\n    <div className=\"editor-container\">\n      {/* ---------- Top Bar ---------- */}\n      <div className=\"editor-topbar\">\n        <div className=\"editor-title-block\">\n          <input\n            className=\"input-title\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            disabled={role !== 'owner'}\n          />\n\n          <span className=\"badge-role\">\n            <b>Your role:</b> {role}\n          </span>\n        </div>\n\n        <div className=\"editor-actions\">\n          <button className=\"btn\" onClick={saveNow} disabled={!(role === 'owner' || role === 'collaborator')}>\n            Save Now\n          </button>\n\n          <button className=\"btn\" onClick={() => nav('/dashboard')}>Back</button>\n\n          {role === 'owner' && (\n            <button className=\"btn-danger\" onClick={deleteDoc}>\n              Delete\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* ---------- Main Layout ---------- */}\n      <div className=\"editor-body\">\n        {/* LEFT — TEXT EDITOR */}\n        <textarea\n          className=\"editor-textarea\"\n          value={content}\n          onChange={(e) => setContent(e.target.value)}\n          readOnly={!(role === 'owner' || role === 'collaborator')}\n        ></textarea>\n\n        {/* RIGHT — COLLABORATOR PANEL */}\n        <div className=\"sidebar\">\n          <h3>Active Collaborators</h3>\n          <ul className=\"list\">\n            {activeUsers.map((u) => (\n              <li key={u.userId}>\n                {u.username} {u.role ? `(${u.role})` : ''}\n              </li>\n            ))}\n          </ul>\n\n          {/* Invite section */}\n          <h3>Collaborators</h3>\n          <ul className=\"list\">\n            {collaborators.map((c) => (\n              <li key={c.userId}>\n                {c.email || c.userId} — {c.role}\n                {role === 'owner' && (\n                  <button className=\"btn-small\" onClick={() => removeCollab(c.userId)}>Remove</button>\n                )}\n              </li>\n            ))}\n          </ul>\n\n          {role === 'owner' && (\n            <div className=\"invite-box\">\n              <input\n                className=\"input\"\n                placeholder=\"Invite by email\"\n                value={inviteEmail}\n                onChange={(e) => setInviteEmail(e.target.value)}\n              />\n              <button className=\"btn\" onClick={invite}>Invite</button>\n            </div>\n          )}\n\n          <div className=\"info-box\">\n            <h4>Info</h4>\n            <p>Auto-saves every 10s. Real-time edits via Socket.IO.</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}